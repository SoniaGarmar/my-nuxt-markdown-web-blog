---
name: 'vue static site generator nuxt and markdown blog'
title: Vue Static Site Generator with Nuxt and Mardown. Let's Create a Serverless Blog.
date: March 17 2020
slug: 'vue-static-site-generator-with-nuxt-and-markdown-create-a-server-less-blog'
slugTrans: 'generador-de-sitios-estaticos-con-vue-nuxt-y-markdown-vamos-a-crear-un-blog-sin-servidor'
description:  This website you are visiting have been created using Nuxt and Markdown and is serving SEO-friendly blog posts without the need of a server. Want to learn how to do it? Keep reading...
tags: ['vue', 'nuxt', 'static site generator']
---
<!---
You can use standard HTML comment syntax.
The key: value properties defined whithin --- --- are variables 
that will be passed to our Vue components in the 'atributes' object
property of the object generated by frontmatter
-->
## First Thoughts and The Nuxt-Markdown-FrontMatter-Netlify Stack

A couple of months ago, I decided to revamp my old website and I wanted to take the opportunity to learn about static site generators. After doing some research, I decided to go with the Vue-Nuxt-Markdown stack, and host my new site on <a href="https://www.netlify.com/" target="_blank">Netlify</a>
<!--I'm using regular html instead og markdown for the links because I wan tto open them in a new window. Regular markdown [Netlify](https://www.netlify.com/) -->

I considered using a headless CMS or even creating my own API (which will be by natural way of doing it due to my strong backend developer background) but the idea of going totally serverless was very attractive to me, so I decided to use Markdown, which I was aware of but had never use it before.

My concern about using Markdown was that I wanted to integrate the content  written in Markdown into a Vue component. I knew I would need some webpack loader able to render .md files as Vue templates. After a little research I decided to use <a href="github.com/hmsk/frontmatter-markdown-loader" target="_blank">Frontmatter </a> by <a href="https://hmsk.me/" target="_blank">Kengo Hamasaki </a>.


Another thing to consider was that my website should be in two languages (Spanish and English).

My first though was to use <a href="https://kazupon.github.io/vue-i18n" target="_blank"> Vue-i18n </a>for the localization, but as I was planning to use .Nuxtjs, I did a little more research and found two drawbacks about using Vuei18n: 
- I would have to add it as a plugin, meaning I would have to create the plugin, which is not a big deal but if something I would have to do, and 
- In order to add the language to the URL, what I wanted to do in my blog posts, I would have to do it manually.

The good news is that I found <a href="https://github.com/nuxt-community/nuxt-i18n" target="_blank"> Nuxt-i18n </a>, which is built on top of Vue-i18n and solves those two problems for us.

If I didn’t needed to add the languages to the routes, I would probably stick with Vue-i18n, but as I wanted to do, Nuxt-i18n was a better choice, because it provides a function to do this automatically, which is very handy.

For the actual translation on the content, I decided to use a localization file to store basically the pieces of text for the home page, the buttons, and the menu items, and to create two separate pages, one for each language,  for the blog posts.


**Complete Project Code**: You can get the source code on <a href="https://github.com/nuxt-community/nuxt-i18n" target="_blank">GitHub </a>

**Prerequisits**: HTML, CSS, JavaScript, Vue.js, and Markdown.

**A note about Markdown**
I'm assuming you have a basic nowlegde about Markdown, but if you don't, don't worry. 
<a href="https://daringfireball.net/projects/markdown/" target="_blank">Markdown </a>is just a simple way to style content on the web. You can, for example, format text as bold or italics, create lists and headings, add images. You might be thinking 'like with HTML'... Yes, but keep in mind that Markdown is not a replacement for HTML. It only covers a  very small subset of HTML tags. It is mostly plain text with a few non-alphabetic characters thrown in, like # or * to add the formatting.

You can learn more about markdown and its syntax at the official page of its creator, 
<a href="https://daringfireball.net/projects/markdown" target="_blank">Daring Fireball </a> or in <a href="https://www.markdownguide.org/basic-syntax/" target="_blank"> this guide </a>.

## What are static sites and static site generators?

You probably are familiar with the distinction between static sites and dynamic sites, but let me explain the difference in case you need a refresher.

A **static website** consists of a series of HTML files, one for each page of your website. The content of each page is fixed (static). The content you add when you code your html page is the content that will be displayed.

A **dynamic website**, however,  uses server technologies (such as Java, Nodejs, c#, PHP ) to dynamically build a webpage on the fly when a user visits the corresponding URL, getting  the data it needs from a database.

Let's think on a blog, for example, you don't create a HTML page for each post and publish them as independent pages in your website; instead what you would usually do is create a dynamic site that contains the "template" for building a blog post, and when somebody browse the URL of one specific post, the page shown in the browser is built on the fly by filling the "template" with data from a database. This data is the title, content, and other info of the post, which was stored into de database when you created the post using your CMS.

This dynamic site approach works perfectly to build a blog, but if you want to  use  a Javascript framework like Vue, React or Angular in the front, you will face a big issue if you are concern about SEO, and we usually are.

### The poblem with Javascript frameworks and SEO

When we create or site usign a JavaScript framework, when a page is loaded in the browser, it is basically empty. **The content form the database will be loaded later**, after the JavaScript code is executed in the browser. This means that the Search Engines will probably miss the content when they visit your page, which will affect your ranking.

Here is where Static Site Generators come into rescue. <a href="https://nuxtjs.org/api/components-nuxt-link" target="_blank">Nuxt.js</a> is one of them.

**With a Static Site Generator, the content is generated upfont**. When we build our app, Nuxtjs will process our javascript files and generate the corresponding html pages —if you have 50 posts, 50 html pages— and those static HTML pages is what will be served when a visitor browse our blog. 


**Server Site Rendering** in another solution for the same rendering problem. In that case, the static pages will be generated, no when we build the app but in the server. The server calls for the content and renders the static pages when it gets the content, before serving them.

For my blog (and for this posts) I'm going to focus in Static Site Generators because I want to take advantage of one characteristic they have:  **you don't need a server if you store your content in markdown files**. And this is what I'm going to do.

### Let's summarize some of the advantages our site will have:

- We don’t need a server
- We can host our website free on sites like  <a href="https://www.netlify.com" target="_blank">Netlify</a>  or <a href="https://pages.github.com/" target="_blank">Github Pages</a>
- Blazing fast site
- SEO friendly

## Brief Intro to Nuxt

<a href="https://nuxtjs.org/api/components-nuxt-link" target="_blank">Nuxt.js</a> is a framework built on top of Vue. It adds additional features to Vue, like:
- Static Site Generation
- Server Site Rendering
- Adding metatags to our pages
- VueRouter out of the box
- Vuex support
- Automatic Route Handling: Nuxt.js  will automatically create the routes based on the files and folders in the "pages" directory
- Code-Sppliting to make your app render faster by breaking the JavaScript containing our app into multiple javascipt files in the server and serving only the JavaScript needed for each page
- Production ready configuration to make your deploy to Production easier.

### Structure of a Nuxt Project
The structure of a Nuxt project will be a little different from that of a Vue project

<img src="/blog-images/my-web-post/01_nuxt_project_structure.png" class="img-fluid" width=80% height=auto alt="static site generator with nuxt">


- **Assets**: Same in both. We store here the uncompiled static assets that will be processed by webpack, such as css or sass files
- **Components**: To place the components (.vue files). Same in both with a slight difference: in Nuxt there are 3 different types of component (components, pages, and layouts) You place here the components that are meant to be part of other components(pages or layouts), for example, a navbar.
- **Layouts**: Layouts are a Nuxt special type of components. They are structural components that contain components used in all or a set of pages. Let's say all your pages have a navbar and a footer, you create a layout containing those components and create all your pages based on that layout. You can have more than one layout, for example you an crete an additional one containing a sidebar to use it in your blog.
- **Middleware**: You place here your middleware functions. Middleware functions are functions that are executed before rendering all routes or a group or routes. For example, a function to  check if a user is signed in before rendering a page.
- **Pages**:  Pages are another special type of Nuxt component, actually the most important components of a Nuxt application. Nuxt creates routes from all the components in that folder.
Every Page component is a Vue component but Nuxt.js adds special attributes and functions to it.
- **Plugins**:  The plugins directory contains the JavaScript code that you want to run before instantiating the root Vue.js Application. You can add here vue libraries or packages or create your own plugins.
- **Static**: like in Vue, you place here the static assets (the ones that don't need to be processed by webpack)
- **Store**. Contains the Vuex store. Feel free to delete it if you are not using Vuex. (I'm not going to use it).

As you can see, in a Nuxt project there is no *App.vue* nor *Main.js* files. **The root module for your Nuxt app (*App.vue*) will be a layout**. There you will find the `<nuxt/>` element, where the page component will be mounted.

There is no *main.js* file. All the configuration will be done in the *nuxtconfig.json* file.

If all this doesn't make a lot of sense to you yet, don't worry, as we build our application all those concepts will become clearer.

A note about images in the markdown files: I will place the images that I want to add to my markdown files in the *static* folder. This way they will not be processed by Webpack and will be available when the post in rendered.

Enough talk. Now that you are familiar with Static Site Generators and with Nuxt, it's time to get our hands dirty.


## Let's create our Nuxt app

Nuxt provides a scaffolding command to help us create the initial files and folders structure of our app.

I'm going to be using npm, but feel free touse yarn if you preffer so. 

Make sure you are using npm 5.2.0 or higher in order to have npx installed and run:

`npx create-nuxt-app <project-name>`

Or, if you are using yarn:

`yarn create nuxt-app <project-name>` 

Those are the options I have chosen:

<img src="/blog-images/my-web-post/02._scaffold_nuxt.png" class="img-fluid" alt="nuxt markdown blog">

Axios is to make http request, which you will problably not need, but I like to add it in case I need to fetch data form any external API.

Eslint is to help us write good, consistent code. If you don't like linters, feel free to skip it.

To run the project, go to the directory named as your project:
`cd sonia-web` in my case, and run 

`npm install`   to install all the dependencies, and then
`npm run dev`to start the app.

In your browser, go to *http://localhost:3000*, and voilà… 

<img src="/blog-images/my-web-post/03_2.nuxt-static-site-generator.png" class="img-fluid" alt="npm run dev">

Back to VS Code, in the terminal,  you can see that the scaffolding tool has also created a git repository.

I don't want  to work on the master branch, so I'm going to create a new one:

`git checkout -b initial`

## Adding our first components

My site will have one single page with my bio, contact info, and services (the home page) and then a blog.

Let's create the corresponding components —pages, in that case.

In the *pages* folder, let's create a subfolder called Blog.
The *index.vue* page is the one I will use for the rest of my content, for my home page.
If you want to create a site with additional pages, just create them here.

<img src="/blog-images/my-web-post/04.nuxt_pages_ folder.png" class="img-fluid" alt="nuxt pages">

Pages are essentially components with extra features. If we take a look at the *index* page, we can study the anatomy of a vue component —a template with the html, a script section with the Javascript code, and a style section for the css. 

<img src="/blog-images/my-web-post/05.nuxt-page-structure.png" class="img-fluid" alt="npm run dev">

As you might know, in Vue we have a root component within which all additional components are rendered. In Nuxt instead of a root component, we use a Layout. 
You can see that the layout component has a `<nuxt />` element. Here is where the components (pages) are rendered.

<img src="/blog-images/my-web-post/06_nuxt_layout.png" class="img-fluid" alt="nuxt root component">

We can have many different layouts. But for now, we only need this one.

In you have common elements that will be used across all your pages, like a menu, you can add them to the layout. This element will be created as a component, and then added to the layout.

Let's do it.

I want to add a navigation bar component to the layout. Let's create it in the *components* folder.By convention, component names are capitalized.

Let's for now just create a hardcoded navigation bar.

But first, we need to do a little setup because I want  to use SASS. If you are using plain css, you can skip this step.


### Using Sass in a Nuxt app

We need to install the *Sass Webpack loader* and the *Sass Module* (<a href="https://github.com/nuxt-community/style-resources-module" target="_blank">style-resources-module)</a>
  

`npm install --save-dev node-sass sass-loader`
<br>
`npm install @nuxtjs/style-resources`

In the *nuxtconfig.json* file, register the modules as a dev module (in *buidModules*), and add the settings in the *styleResources* object. We need to tell Nuxt which are the files we want to processed by the sass modules, and the syntax you are using (sccs or sass)

```javascript
  buildModules: [
    '@nuxtjs/style-resources',
  ],
  styleResources: {
    // your settings here
    scss: [
      './assets/vars/*.scss',
    ]
  },
```

<img src="/blog-images/my-web-post/07.add_sass_to_nuxt.png" class="img-fluid" alt="sass in nuxt">

This configuration is for global styles. To use sass in a component, we'll add the `lang="scss"` attibute to the *style* tag of the component.

<img src="/blog-images/my-web-post/07_2.sass.png" class="img-fluid" alt="sass">


### The NavBar Component

Let's create our NavBar component inside the *components* directory.
Just create a *NavBar.vue* file and add a template, script, and style sections with the code for your navigation bar.
Remember to add the `lang="scss"` attribute to the `<style>` tag.
I have also added the `scope` attribute because I want the scope of this css code to be limited to the NavBar component.

Feel free to add your own html and css, but if you want to follow along with me, here is the code I'm using for the NavBar component:

```scss
.grid {
  display: grid;
  @media (min-width: 576px) {
    grid-template-columns: 1fr 1fr;
  }
```


```javascript
<template>
  
<nav class="navbar navbar navbar-expand-lg navbar-dark default-color fixed-top">
      <button class="navbar-toggler" type="button"
        aria-expanded="false" aria-label="Toggle navigation"
        v-bind:class=" { 'navbarOpen': show }"
         v-on:click="toggleNavbar">
        <span class="navbar-toggler-icon"></span>
      </button >
  
  <div class="collapse navbar-collapse"
         v-bind:class="{ 'show': show }">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item active">
            <a class="nav-link" href="#">Home
              <span class="sr-only">(current)</span>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">About Me</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Services</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Portfolio</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Contact</a>
          </li>
        </ul>
        <ul class="navbar-nav ml-auto nav-flex-icons">
          <li class="nav-item">
            <a class="nav-link waves-effect waves-light">
            Blog
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link waves-effect waves-light">
              <font-awesome-icon :icon="['fab', 'linkedin']" />
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link waves-effect waves-light">
              <font-awesome-icon :icon="['fab', 'youtube']" />
            </a>
          </li>
           <li class="nav-item">
            <a class="nav-link waves-effect waves-light">
             <font-awesome-icon :icon="['fab', 'twitter']" />
            </a>
          </li>
        </ul>
      </div>
  </nav>
</template>
<script>
  export default {
	data() {
	      return {
	        show: false
	      }
	    },
	    methods: {
	      toggleNavbar() {
	        this.show = !this.show;
	      }
	    }

  }

</script>
<style scoped lang="scss">
  @import '../assets/styles/main.scss';
  nav {
     background-color:$black;
  }
</style>
```
----







You can learn more about [Markdown](https://www.markdownguide.org/basic-syntax/) 
